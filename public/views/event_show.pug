extends layout

block content
  body#page-top(data-spy='scroll')
  include nav
  .container
    .row
      .col-md-8.col-md-offset-2
        h1 Event Name

        .panel.panel-default
          .panel-heading Event Information
          ul.list-group
            li.list-group-item Name: #{event.name}
            li.list-group-item Date: #{event.date}
            li.list-group-item Time: #{event.time}
            li.list-group-item Location: #{event.location}
            li.list-group-item Description: #{event.description}
            
    
    .row
      .col-md-8.col-md-offset-2
        .dishWrapper
          .title
            h2 Dishes Guests need to bring
          .dishes
            each dish in dishes
              .dish
                .course #{dish.course}
                if dish.userName
                  .dishUser #{dish.userName}
                else
                  .dishUser
                    form(method='post' action='/dish/claim/' + dish.id + '/' + userId + '/' + event.id)
                      input(type='submit', value="I'll Bring This!")
                if dish.name
                  .dishName #{dish.name}
                else
                  form(method='post' action='/dish/name/' + dish.id + '/' + userId + '/' + event.id)
                    input(type='text' name='newDishName')
                    input(type='submit', value="Add Dish Name")
                    
                    
    .row
      .col-md-8.col-md-offset-2
      
        .panel.panel-default
          .panel-heading Events I'm Hosting
          table.table.table-hover
            thead
              tr
                th Name
                th Date
                th Time
                th Location
            tbody
              if hosting.length
                each event in hosting 
                  tr 
                    td
                      a(href='/event/' + event.id + '/show') #{event.name}
                    td
                      a(href='/event/' + event.id + '/show') #{event.date}
                    td
                      a(href='/event/' + event.id + '/show') #{event.time}
                    td
                      a(href='/event/' + event.id + '/show') #{event.location}
              else          
                tr
                  td You're not hosting any events

    .row
      .col-md-8.col-md-offset-2
        .dishWrapper
          .title
            h2 List Of Guests
          table
            tr
              .th name
              .th email
            each guest in guests
              .tr
                .td #{guest.name}
                .td #{guest.email} 
